{"version":3,"sources":["Components/Searchbar/Searchbar.js","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Loader/Loader.js","Components/Button/Button.js","services/apiService.js","App.js","index.js"],"names":["Searchbar","state","query","handleChange","e","setState","currentTarget","name","value","handleSubmit","preventDefault","toast","error","props","className","onSubmit","this","type","onChange","autoComplete","autoFocus","placeholder","Component","modalRoot","document","querySelector","Modal","handleBackdropClick","target","toggleModal","handleKeyDown","code","window","addEventListener","removeEventListener","largeImageURL","alt","createPortal","onClick","src","ImageGalleryItem","showModal","onClickItem","image","webformatURL","tags","ImageGallery","images","map","id","Loader","color","height","width","timeout","Button","loadMore","axios","defaults","baseURL","getPictures","page","get","then","res","data","hits","App","loading","prevState","catch","finally","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","length","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"yOAIMA,E,4MAGFC,MAAQ,CACJC,MAAO,I,EAGXC,aAAe,SAACC,GACZ,EAAKC,SAAL,eAAiBD,EAAEE,cAAcC,KAAOH,EAAEE,cAAcE,S,EAG5DC,aAAe,SAACL,GACZA,EAAEM,iBAEuB,KAArB,EAAKT,MAAMC,OACXS,IAAMC,MAAN,gJAGJ,EAAKC,MAAMJ,aAAa,EAAKR,MAAMC,OAEnC,EAAKG,SAAS,CACVH,MAAO,M,4CAKf,WAEI,OACI,wBAAQY,UAAU,YAAlB,SACI,uBACAA,UAAU,aACVC,SAAUC,KAAKP,aAFf,UAGI,wBAAQQ,KAAK,SAASH,UAAU,oBAAhC,SACA,sBAAMA,UAAU,0BAAhB,sBAGA,uBACAP,KAAK,QACLC,MAAOQ,KAAKf,MAAMC,MAClBgB,SAAUF,KAAKb,aACfW,UAAU,mBACVG,KAAK,OACLE,aAAa,MACbC,WAAS,EACTC,YAAY,sC,GA7CRC,aAyDTtB,ICzDTuB,EAAYC,SAASC,cAAc,eAEnCC,E,4MAUFC,oBAAsB,SAACvB,GACfA,EAAEE,gBAAkBF,EAAEwB,QACtB,EAAKf,MAAMgB,e,EAInBC,cAAgB,SAAC1B,GACE,WAAXA,EAAE2B,MACF,EAAKlB,MAAMgB,e,uDAhBnB,WACIG,OAAOC,iBAAiB,UAAWjB,KAAKc,iB,kCAG5C,WACIE,OAAOE,oBAAoB,UAAWlB,KAAKc,iB,oBAgB/C,WAEI,MAA6Bd,KAAKH,MAA3BsB,EAAP,EAAOA,cAAeC,EAAtB,EAAsBA,IAEtB,OAAOC,uBACH,qBAAKvB,UAAU,UACXwB,QAAStB,KAAKW,oBADlB,SAEI,qBAAKb,UAAU,QAAf,SACI,qBAAKyB,IAAKJ,EAAeC,IAAKA,QAGtCb,O,GAlCQD,aA6CLI,IC/CTc,E,4MAEFvC,MAAQ,CACJwC,WAAW,G,EAGfZ,YAAc,WACV,EAAKxB,UAAS,kBAAkB,CAC9BoC,WADY,EAAEA,e,EAMpBC,YAAc,WACV,EAAKb,e,4CAGT,WAEI,MAA4Cb,KAAKH,MAAM8B,MAAhDC,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,KAAMV,EAA3B,EAA2BA,cACpBM,EAAazB,KAAKf,MAAlBwC,UAEP,OACI,qCACA,oBAAI3B,UAAU,mBACVwB,QAAStB,KAAK0B,YADlB,SAEI,qBAAKH,IAAKK,EAAcR,IAAKS,EAAM/B,UAAU,6BAGhD2B,GAAc,cAAC,EAAD,CAAOZ,YAAab,KAAKa,YAAaM,cAAeA,EAAeC,IAAKpB,KAAKH,MAAM8B,MAAME,c,GA7BtFvB,aAyChBkB,IC1BAM,MAff,YAAkC,IAAVC,EAAS,EAATA,OAEpB,OACI,oBAAIjC,UAAU,eAAd,SACKiC,EAAOC,KAAI,SAAAL,GAAK,OACb,cAAC,EAAD,CAAkBA,MAAOA,GAAYA,EAAMM,U,iBCM5CC,MAbf,WACI,OACI,qBAAKpC,UAAU,UAAf,SACI,cAAC,IAAD,CACAG,KAAK,OACLkC,MAAM,UACNC,OAAQ,IACRC,MAAO,IACPC,QAAS,SCDNC,MAPf,YAA8B,IAAZC,EAAW,EAAXA,SACd,OACI,wBAAQ1C,UAAU,SACVwB,QAASkB,EADjB,wB,iBCHRC,IAAMC,SAASC,QAAS,0BAIjB,SAASC,EAAa1D,EAAO2D,GAChC,OAAOJ,IAAMK,IAAN,cAAiB5D,EAAjB,iBAA+B2D,EAA/B,gBAJK,qCAIL,yDACNE,MAAK,SAAAC,GAAG,OAAIA,EAAIC,KAAKC,Q,UCEpBC,E,4MACJlE,MAAQ,CACNC,MAAO,GACP6C,OAAQ,GACRc,KAAM,EACNO,SAAS,EACTxD,MAAO,M,EAkBTH,aAAe,SAACP,GACd,EAAKG,SAAS,CACZH,MAAOA,EACP2D,KAAM,EACNd,OAAQ,GACRnC,MAAO,Q,EAIXgD,YAAc,WAEZ,EAAKvD,SAAS,CAAC+D,SAAS,IAExBR,EAAY,EAAK3D,MAAMC,MAAO,EAAKD,MAAM4D,MACxCE,MAAK,SAAAC,GACJ,EAAK3D,UAAS,SAACgE,GAAD,MAAgB,CAC5BtB,OAAO,GAAD,mBAAMsB,EAAUtB,QAAhB,YAA2BiB,IACjCH,KAAMQ,EAAUR,KAAO,SAG1BS,OAAM,SAAA1D,GAAK,OAAI,EAAKP,SAAS,CAACO,OAAO,OACrC2D,SAAQ,kBAAM,EAAKlE,SAAS,CAAC+D,SAAS,Q,wDApCzC,SAAmBI,EAAWH,GAExBA,EAAUnE,QAAUc,KAAKf,MAAMC,OACjCc,KAAK4C,cAGiB,IAApB5C,KAAKf,MAAM4D,MAAcQ,EAAUR,OAAS7C,KAAKf,MAAM4D,MACzD7B,OAAOyC,SAAS,CACdC,IAAKlD,SAASmD,gBAAgBC,aAC9BC,SAAU,a,oBA+BhB,WAEE,IAAOpE,EAA6BO,KAA7BP,aAAcmD,EAAe5C,KAAf4C,YACrB,EAAwC5C,KAAKf,MAAtC8C,EAAP,EAAOA,OAAQqB,EAAf,EAAeA,QAASxD,EAAxB,EAAwBA,MAAOV,EAA/B,EAA+BA,MAE/B,OACE,sBAAKY,UAAU,MAAf,UAEE,cAAC,EAAD,CAAWL,aAAcA,IAExBG,GAASD,IAAMC,MAAN,uGAAiCV,EAAjC,OAEV,cAAC,EAAD,CAAc6C,OAAQA,IAErBA,EAAO+B,OAAS,GAAK,cAAC,EAAD,CAAQtB,SAAUI,IAEvCQ,GAAW,cAAC,EAAD,IAEZ,cAAC,IAAD,CAAgBW,UAAW,a,GAnEjBzD,aA0EH6C,IC9Efa,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF1D,SAAS2D,eAAe,W","file":"static/js/main.ac3f5460.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {toast } from 'react-toastify';\r\n\r\nclass Searchbar extends Component {\r\n\r\n    \r\n    state = {\r\n        query: \"\"\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ [e.currentTarget.name]: e.currentTarget.value });\r\n    };\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (this.state.query === \"\") {\r\n            toast.error(`Введите название картинки`)\r\n        }\r\n    \r\n        this.props.handleSubmit(this.state.query);\r\n\r\n        this.setState({\r\n            query: \"\",\r\n        });\r\n    };\r\n    \r\n\r\n    render () {\r\n\r\n        return (\r\n            <header className=\"Searchbar\">\r\n                <form \r\n                className=\"SearchForm\"\r\n                onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className=\"SearchForm-button\">\r\n                    <span className=\"SearchForm-button-label\">Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                    name=\"query\"\r\n                    value={this.state.query}\r\n                    onChange={this.handleChange}\r\n                    className=\"SearchForm-input\"\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    handleSubmit: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Searchbar;","import React, {Component} from \"react\";\r\nimport {createPortal} from \"react-dom\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n    \r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n    handleBackdropClick = (e) => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.toggleModal()\r\n        }\r\n    }\r\n\r\n    handleKeyDown = (e) => {\r\n        if (e.code === 'Escape') {\r\n            this.props.toggleModal()\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const {largeImageURL, alt} = this.props;\r\n\r\n        return createPortal(\r\n            <div className=\"Overlay\"\r\n                onClick={this.handleBackdropClick}>\r\n                <div className=\"Modal\">\r\n                    <img src={largeImageURL} alt={alt}/>\r\n                </div>\r\n            </div>,\r\n            modalRoot,\r\n        )\r\n    }\r\n}\r\n\r\nModal.propTypes = {\r\n    toggleModal: PropTypes.func.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    alt: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Modal;","import React, {Component} from \"react\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ImageGalleryItem extends Component {\r\n\r\n    state = {\r\n        showModal: false,\r\n    }\r\n\r\n    toggleModal = () => {\r\n        this.setState(({showModal}) => ({\r\n          showModal: !showModal\r\n        }));\r\n    };\r\n    \r\n\r\n    onClickItem = () => {\r\n        this.toggleModal();\r\n    }\r\n\r\n    render() {\r\n\r\n        const {webformatURL, tags, largeImageURL} = this.props.image;\r\n        const {showModal} = this.state;\r\n\r\n        return (\r\n            <>\r\n            <li className=\"ImageGalleryItem\" \r\n                onClick={this.onClickItem}>\r\n                <img src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" />\r\n            </li>\r\n\r\n            {showModal && (<Modal toggleModal={this.toggleModal} largeImageURL={largeImageURL} alt={this.props.image.tags}/>)}\r\n            </>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    image: PropTypes.object.isRequired\r\n}\r\n\r\n\r\nexport default ImageGalleryItem;","import React from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ImageGallery ({images}) {\r\n    \r\n    return (\r\n        <ul className=\"ImageGallery\">\r\n            {images.map(image => \r\n                <ImageGalleryItem image={image} key={image.id}/>\r\n            )}\r\n        </ul>\r\n    )\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    images: PropTypes.array.isRequired\r\n}\r\n\r\nexport default ImageGallery;","import NewLoader from \"react-loader-spinner\";\r\n\r\nfunction Loader () {\r\n    return (\r\n        <div className=\"spinner\">\r\n            <NewLoader\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Loader","import React from \"react\";\r\n\r\nfunction Button ({loadMore}) {\r\n    return (\r\n        <button className=\"Button\"\r\n                onClick={loadMore}>Load More</button>\r\n    )\r\n}\r\n\r\nexport default Button;","import axios from \"axios\";\r\naxios.defaults.baseURL= 'https://pixabay.com/api'\r\nconst API_KEY = '23129737-24f03c8dbe97b8724820f585e';\r\n\r\n\r\nexport function getPictures (query, page) {\r\n    return axios.get(`/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n    .then(res => res.data.hits)\r\n}","import React, { Component } from \"react\";\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Loader from \"./Components/Loader/Loader\";\nimport Button from \"./Components/Button/Button\";\nimport { getPictures } from \"./services/apiService\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    images: [],\n    page: 1,\n    loading: false,\n    error: null\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n\n    if (prevState.query !== this.state.query) {\n      this.getPictures();\n    }\n\n    if (this.state.page !== 2 && prevState.page !== this.state.page) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n      \n    }\n  }\n\n  handleSubmit = (query) => {\n    this.setState({\n      query: query,\n      page: 1,\n      images: [],\n      error: null\n    });\n  };\n\n  getPictures = () => {\n\n    this.setState({loading: true});\n\n    getPictures(this.state.query, this.state.page)\n    .then(res => {\n      this.setState((prevState) => ({\n        images: [...prevState.images, ...res],\n        page: prevState.page + 1\n      }))\n    })\n    .catch(error => this.setState({error: true}))\n    .finally(() => this.setState({loading: false}))\n\n  }\n\n  render() {\n\n    const {handleSubmit, getPictures} = this;\n    const {images, loading, error, query} = this.state\n\n    return (\n      <div className=\"App\">\n\n        <Searchbar handleSubmit={handleSubmit}/>\n\n        {error && toast.error(`Не нашли картинку ${query}:(`)}\n\n        <ImageGallery images={images}/>\n\n        {images.length > 0 && <Button loadMore={getPictures}/>}\n\n        {loading && <Loader />}\n\n        <ToastContainer autoClose={3000}/>\n\n      </div>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}